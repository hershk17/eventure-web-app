<ion-header>
  <ion-toolbar>
    <ion-title>Create Event</ion-title>
    <button icon-only clear item-right (click)="navBack()" slot="start">
      <ion-icon size="large" name="chevron-back-circle-outline"></ion-icon>
    </button>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form [formGroup]="createEvent">
    <ion-card style="border-radius: 10px">
      <ion-card-header>
        <ion-list>
          <ion-item lines="full">
            <ion-label position="floating">Event Name</ion-label>
            <ion-input
              autocapitalize
              type="text"
              formControlName="eventName"
              inputmode="text"
              required
            ></ion-input>
          </ion-item>
          <div *ngFor="let error of errorMessages.eventName">
            <ng-container
              *ngIf="eventName.hasError(error.type) && (eventName.dirty || eventName.touched)"
            >
              <small class="error-message">{{error.message}}</small>
            </ng-container>
          </div>

          <ion-item lines="full">
            <ion-label position="floating">Location</ion-label>
            <ion-input
              autocapitalize
              type="text"
              formControlName="eventLocation"
              inputmode="text"
              required
            ></ion-input>
          </ion-item>

          <div *ngFor="let error of errorMessages.eventLocation">
            <ng-container
              *ngIf="eventLocation.hasError(error.type) && (eventLocation.dirty || eventLocation.touched)"
            >
              <small class="error-message">{{error.message}}</small>
            </ng-container>
          </div>
          <ion-row>
            <ion-col>
              <ion-item lines="full">
                <ion-label position="floating">Start Date </ion-label>
                <ion-datetime
                  formControlName="startDate"
                  presentation="date-time"
                  [(ngModel)]="startDate"
                  [min]="minDate"
                  [max]="maxDate"
                  position="floating"
                ></ion-datetime>
              </ion-item>
              <!-- ****************** -->
            </ion-col>

            <ion-col>
              <ion-item lines="full">
                <ion-label position="floating">Start Time </ion-label>
                <ion-datetime
                  formControlName="startTime"
                  [(ngModel)]="startTime"
                  position="floating"
                  display-format="h:mm A"
                  picker-format="h:mm A"
                ></ion-datetime>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-item>
            <ion-label>Event Privacy</ion-label>
            <ion-select interface="popover" value="privacy">
              <ion-select-option value="public">Public</ion-select-option>
              <ion-select-option value="youFollow"
                >Followers Only</ion-select-option
              >
              <ion-select-option value="inviteOnly"
                >Invite Only</ion-select-option
              >
            </ion-select>
          </ion-item>
          <ion-item>
            <ion-label>Category</ion-label>
            <ion-select formControlName="category" multiple="true">
              <ion-select-option
                *ngFor="let category of this.categories"
                [value]="category"
                >{{category}}</ion-select-option
              >
            </ion-select>
          </ion-item>
        </ion-list>
      </ion-card-header>
      <ion-card-content>
        <ion-button
          type="submit"
          (click)="onCreateEvent()"
          color="primary"
          expand="block"
          [disabled]="!createEvent.valid"
          >Create Event</ion-button
        >
        <!-- <ion-button [routerLink]="['/login']" color="light" expand="block"
          >Back to Login</ion-button
        > -->
      </ion-card-content>
    </ion-card>
  </form>
</ion-content>
